body {
    font-family: "Raleway", "XiYuan", "sans-serif";

    &:not([data-connected]) {
        filter: grayscale(1) opacity(0.25);
    }
}

body > pf-page > header {
    font-family: "Special Elite", "GuYin";
}

nav {
    font-family: "Raleway", "XiYuan", "sans-serif";
    font-weight: normal;
    text-transform: uppercase;
}

article > header {
    font-family: "Nanum Myeongjo", "Source Han Serif CN", "serif";
    font-variant: petite-caps;
}

body > div#pingpong {
    position: absolute;

    background: var(--accent);

    transition: all 0.25s;
}

body[data-pingpong="0"] > div#pingpong {
    right: 24px;
    top: 16px;
    height: 16px;
    width: 0;
    //opacity: 1;
}

body[data-pingpong="1"] > div#pingpong {
    right: 16px;
    top: 24px;
    height: 0;
    width: 16px;
    //opacity: 0;
}

body > pf-page {
    display: block;
    padding: 1em;

    margin: 1em auto;

    > div#navWrap {
        > nav#path {
            > a:last-of-type { display: none; }
        }
        > nav#secondaryNav[data-item-count="0"] {
            display: none !important;
        }
    }

    > pf-list.cms.flow-grid > pf-viewport {
        > a.card > img {
            display: block;
        }
    }

    > pf-list#nodeIndex {
        > pf-viewport > article {
            &[data-type="D"],
            &[data-type="RD"] {
                padding: 1ex;
                border: 1px solid var(--base-shade2);
                box-shadow: 2px 2px 0 -1px white, 2px 2px 0 0 var(--base-shade2),4px 4px 0 -1px white, 4px 4px 0 0 var(--base-shade2);
                margin-right: 4px !important;

                > pf-content:empty { display: none }
            }
        }
    }

    > div#navWrap > nav#path {
        display: grid;
        grid-auto-flow: column;
        grid-gap: 1ex;
        align-items: center;
    }

    &[data-type="H"],
    &[data-type="D"] {
        > header {
            display: grid;
            grid-template-columns: auto auto;
            grid-template-rows: auto auto;
            grid-column-gap: 1ex;
            grid-row-gap: 2em;
            align-items: end;
            justify-content: center;
            align-content: center;

            height: 192px;
            font-weight: normal;

            > img#logo {
                width: auto;
                height: 50px;
                justify-self: end;
            }
            > pf-text#siteTitle {
                font-size: 32px;
            }
            > nav#mainNav {
                grid-column: 1/span 2;
                grid-row: 2;

                display: flex;
                justify-content: space-evenly;

                > a {
                    display: block;
                    margin: 0 1em;
                }
            }
        }

        width: 764px;

        > div#navWrap {
            display: flex;

            margin-bottom: 3em;
            padding: 0.5ex 0;

            border-style: solid;
            border-color: var(--base-shade1);
            border-top-width: 1px;
            border-bottom-width: 1px;
            border-left: none;
            border-right: none;

            font-size: 16px;

            > nav#secondaryNav {
                &:extend(body > pf-page > div#navWrap > nav#path);
            }

            > nav#path {
                padding-right: 1ex;
            }
            > nav#secondaryNav {
                padding-left: 1ex;
            }

            > nav#path > a,
            > nav#secondaryNav > a {
            }

            > nav#path {
                // border-right: 2px dotted var(--base-shade1);
                &[data-item-count="1"] { display: none; }

                > a::after {
                    display: inline-block;
                    content: " \002B83";
                    margin-left: 0.5ex;
                }
            }

            > nav#secondaryNav {
                flex-grow: 1;

                > a {
                    &.actived {
                        color: var(--accent);
                        font-weight: bold;
                    }
                }
            }
        }

        > pf-list#nodeIndex {
            margin: 1em 0 2em;
        }

        > pf-list#nodeIndex > pf-viewport {
            > article {
                &[data-type="F"],
                &[data-type="RF"] {
                    border-top: 1px dashed var(--base-shade2);
                }
                &[data-type="D"],
                &[data-type="RD"] {
                    margin-bottom: ~"calc(1em + 4px)";
                }

                > header {
                    margin: 0;
                    font-size: var(--large-font-size);
                }
                > pf-content#content {
                    margin: 0;
                    p { margin: 1ex 0 }
                }
            }
        }
    }

    &[data-type="H"] {
        display: grid;

        > header {
            order: 0;
        }

        > div#navWrap > nav#secondaryNav {
            justify-content: space-evenly;
            order: 1;
        }

        > article#content {
            order: 2;
            //> header { display: none }
        }

        > pf-list#nodeIndex {
            &::before {
                display: block;
                margin-bottom: 1px;

                content: "Latest Posts";
                font-family: "Raleway", "XiYuan", "sans-serif";
                font-variant-caps: petite-caps;
                border-bottom: 1px solid var(--base-shade1);
            }
            order: 3;
        }

        > footer {
            order: 4;
        }
    }

    &[data-type="D"] {
        > div#navWrap > nav#secondaryNav {
            justify-content: end;
            > a {
                // display: contents;
                &::before {
                    display: inline-block;
                    content: "\2022";
                    margin-right: 0.5ex;
                }
            }
        }
    }

    &[data-type="D"] {
        > article#content {
            display: none;
        }
    }
    &[data-type="C"] {
        display: grid;
        grid-template-columns: 200px auto 1fr 200px;
        grid-template-rows: auto auto auto 1fr auto;
        max-width: 1194px;

        grid-column-gap: 1em;

        // background: #eee;

        > header {
            &::before {
                grid-area: 1/1/3/2;
                content: "";
                background: black;
                width: 100%;
                height: 100%;
            }

            display: contents;
            > img#logo {
                grid-area: 1/1/3/2;
                justify-self: center;

                margin: 1em;
                width: 100px;

                filter: grayscale(1) invert(1);
            }
            > pf-text#siteTitle {
                font-size: 24px;
                grid-area: 3/1/4/2;
                text-align-last: justify;
                padding: 1ex 0;
            }
            > nav#mainNav {
                grid-area: 1/3/2/4;

                z-index: 1;

                margin-bottom: 1ex;

                &:extend(body > pf-page[data-type="D"] > div#navWrap > nav#secondaryNav);
                > a {
                    &:extend(body > pf-page[data-type="D"] > div#navWrap > nav#secondaryNav > a all);
                }
            }
        }

        > div#navWrap {
            &::before {
                content: "";

                grid-area: 1/2/2/4;
                z-index: -1;

                border-bottom: 1px solid var(--base-shade1);
            }
            display: contents;

            > nav#path {
                grid-area: 1/2/2/3;
                &:extend(body > pf-page[data-type="D"] > div#navWrap > nav#path all);
                margin-bottom: 1ex;
            }
            > nav#secondaryNav {
                grid-area: 4/1/5/2;

                > a {
                    display: block;
                    padding: 1ex 0;
                    margin: 1ex 0;

                    font-size: var(--large-font-size);
                    text-align: center;

                    &.actived {
                        background: linear-gradient(-90deg, var(--accent), transparent);
                        color: var(--accent-text);

                        font-weight: bold;
                    }
                }
            }
        }

        > pf-list#nodeIndex {
            grid-area: 1/4/5/5;
            padding: 3em 1em;

            > pf-viewport {
                > a, article {
                    margin: 1ex 0;
                }
                > article {
                    //border-left: 2px solid var(--base-shade1);
                    //padding: 1ex 0;
                    &[data-type="D"],
                    &[data-type="RD"] {
                        margin-bottom: ~"calc(1ex + 4px)";
                    }
                    > header {
                        padding: 0;
                        margin: 0;
                        font-size: var(--base-font-size);
                    }
                    > pf-content {
                        font-size: var(--small-font-size);
                        margin: 1ex 0 0;
                        * {
                            margin: 0;
                        }
                    }
                }
                > a img { max-width: 100% }
            }
        }

        > article#content {
            grid-area: 2/2/5/4;

            background: var(--base);
            //border-radius: 10px;
            //background: linear-gradient(180deg, var(--base-shade3), transparent 200px);
            //box-shadow: 0 5px 15px -8px #0003, 0 0 5px #0003;

            > header { margin-top: 0; }
        }
        > article#content[data-type="F"] {
            min-height: 750px;
            padding: 2em 0 3em;
        }
        > article#content[data-type="R"][data-content="jpg"],
        > article#content[data-type="R"][data-content="png"],
        > article#content[data-type="R"][data-content="gif"] {
            padding: 1ex 0;
            > header { display: none }
            img { max-width: 100% }
        }

        > footer {
            grid-area: 5/1/6/5;
            padding: 3em 0;
        }
    }

    > footer {
        margin: 5em 0;

        font-family: "Raleway";
        font-weight: bold;
        font-size: var(--small-font-size);
        text-align: center;
    }
}

